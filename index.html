<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

		<title>Workshop Ansible</title>

		<link rel="stylesheet" href="css/reveal.css">
		<link rel="stylesheet" href="css/theme/sky.css">

		<!-- Theme used for syntax highlighting of code -->
		<link rel="stylesheet" href="lib/css/zenburn.css">

		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>
	</head>
	<body>
		<div class="reveal">
			<div class="slides">
				<section>
					<h1>Ansible</h1>
					<h4>Workshop</h4>
					<img src="images/ansible2.png" height="150" border="0" style=" background:none; border:none; box-shadow:none;"/>
					<br/>
					<p>Diego Morales</p>
					<p>
						<small>
						<img src="images/twitter-bird-white-on-blue.png" height="24" width="24" border="0" style="border:none;vertical-align:middle;" />
						<a href="http://twitter.com/dgmorales" style="vertical-align:middle;">@dgmorales</a>
						&nbsp;
						<img src="images/mail3.png" border="0" style="border:none;vertical-align:middle;" />
						<a href="mailto:dmorales@stone.com.br" style="vertical-align:middle;">dmorales@stone.com.br</a>
						</small>
					</p>
					<aside class="notes">
					<small>
					<p>Dentre as ferramentas de orquestração/automação e outras de infras as code,
					<b>ansible é a mais fácil de começar</b>.</p>

					<p>Não me exige uma mudança tão dramática e imediata nos meu modelos mentais. Logo
					via SSH, instalo pacote, configuro e reinicío (<b>imperativo</b>).</p>

				</small>
					</aside>
				</section>

				<section>
					<p>Estes slides:</p>
					<p>http://dgmorales.info/talks/workshop-ansible</p>
					<br/>
					<p>Instale aí: git, vagrant, virtualbox</p>
					<p>git clone <a href="https://github.com/dgmorales/workshop-ansible">https://github.com/dgmorales/workshop-ansible</a></p>
				</section>

				<section>
					<img src="images/ansible-architecture.svg" style="border:0;">
					<p><i>"Ansible’s <a href="http://docs.ansible.com/ansible/index.html">main goals</a> are simplicity and ease-of-use."</i></p>
					<aside class="notes">
					 <p>Objetivo explícito: simplicidade e facilidade de uso.</p>
					 <p>Control Machine: o seu laptop ou um servidor.</p>
					 <p>Push via SSH/powershell, sem agente.</p>
					 <p>Web interface: Tower (pago). Comum junto com Rundeck.</p>
					</aside>
				</section>

				<!--
				<section data-background="#4D7E65">
				-->
				<section>
					<ul>
						<li><i>Agentless</i></li>
						<ul>
							<li>Push over SSH. Pull rodando local.</li>
							<li><a href="http://docs.ansible.com/ansible/intro_windows.html">Windows</a>: WinRM + PowerShell Remoting</li>
						</ul>
						<li>Simplifica orquestração em várias máquinas</li>
						<li>Linguagem: YAML + templates jinja2</li>
						<li>Python!</li>
						<li>Auth/Crypto: seu fiel amigo SSH</li>
						<li>Excelente documentação tutorial: <a href="http://docs.ansible.com/ansible/intro.html">http://docs.ansible.com/ansible/intro.html</a></li>
					</ul>
					<aside class="notes">
						<p>Depende de um inventário de hosts, que pode ser dinâmico, um script, vários prontos.</p>

						<p>YAML: uns acham bom, outros acham ruim</p>

						<p>Orquestração: vai no balanceador e tira máquinas x, y, z do serviço, vai em x, y
						e z e atualiza a aplicação, reboota elas, e aguarda voltarem, vai lá no balanceador
						e põe elas de volta.</p>

					</aside>
				</section>

			<section>
				<!--
				<section data-background="#B5533C">
				-->
				<section>
					<h2>Bora brincar</h2>
					<img src="images/fazendo-arte.jpg"/>
					<p><a href="https://github.com/dgmorales/workshop-ansible">https://github.com/dgmorales/workshop-ansible</a></p>
					<aside class="notes">
					</aside>
				</section>
			</section>

				<section>
					<h2>Mais ...</h2>
					<ul>
						<!--
						<li><a href="https://doauto.wordpress.com/2016/06/30/criando-pacotes-facilmente-com-o-fpm/">Criar pacotes é uma barbada com o FPM</a></li>
						-->
						<li><a href="http://docs.ansible.com/ansible/playbooks_variables.html">Varíaveis</a></li>
						<li>Criando <a href="http://docs.ansible.com/ansible/playbooks_roles.html#roles">roles</a></li>
						<li>Senhas no <a href="http://docs.ansible.com/ansible/playbooks_vault.html">Ansible Vault</a> ...
							<ul><li> ... ou em algo como o <a href="https://www.vaultproject.io/">Hashicorp Vault</a> + <a href="http://docs.ansible.com/ansible/playbooks_lookups.html">lookups</a> (<a href="https://github.com/ansible/ansible/blob/devel/lib/ansible/plugins/lookup/hashi_vault.py">hashi_vault</a> ou <a href="https://github.com/jhaals/ansible-vault">ansible-vault</a>)</li></ul>
						<li>Suporte ao Windows</li>
						<li>ansible-container</li>
						<li>Ansible Tower</li>
						<li>Integrando com o Rundeck</li>
					</ul>
					<aside class="notes">
						<p>O meu ponto é que se fazer tudo do jeito ideal está te impedindo de começar, então comece de outro jeito.<p>
						<p>Eu joguei pela janela algumas boas práticas. Faça isso se necessário para começar, mas não faça isso pra sempre.</p>
						<p>Existe uma distância tênue entre "simplificar para facilitar começar isso" e "isso está me ferrando agora, eu devia ter começado isso direito".</p>
						<p>Quando você começar a sentir o segundo sentimento, você já alcançou uma maturidade maior, e pode começar a priorizar começar a coisa do jeito certo.</p>
						<p>O importante é seguir estudando e conhecendo melhor a ferramenta, e estar atento/ciente das melhores práticas, para reconhecer quando elas são o que te falta.</p>
					</aside>

				</section>
			</section>

				<section>
					<h2>Contato</h2>
					<br/>
					<p>Diego Morales</p>
					<p>
						<small>
						<img src="images/twitter-bird-white-on-blue.png" height="24" width="24" border="0" style="border:none;vertical-align:middle;" />
						<a href="http://twitter.com/dgmorales" style="vertical-align:middle;">@dgmorales</a>
						&nbsp;
						<img src="images/mail3.png" border="0" style="border:none;vertical-align:middle;" />
						<a href="mailto:dmorales@stone.com.br" style="vertical-align:middle;">dmorales@stone.com.br</a> (estamos contratando!)
						<br/>
							<img src="images/wordpress.png" height="32" width="32" border="0" style="border:none;vertical-align:middle;"/>
							<a href="http://doauto.blog" style="vertical-align:middle;">Do, Automate, Repeat: http://doauto.blog</a>
							<br/>
						</small>
					</p>
					<br/>
					<p>Slides: http://dgmorales.info/talks/workshop-ansible</p>
			</section>

			</div>
		</div>

		<script src="lib/js/head.min.js"></script>
		<script src="js/reveal.js"></script>

		<script>
			// More info https://github.com/hakimel/reveal.js#configuration
			Reveal.initialize({
				history: true,

				// More info https://github.com/hakimel/reveal.js#dependencies
				dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
				]
			});
		</script>
	</body>
</html>
